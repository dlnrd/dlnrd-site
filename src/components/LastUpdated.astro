---
import { execSync } from 'node:child_process';

let lastCommitDate = '';

try {
  lastCommitDate = execSync('git log -1 --format=%cd --date=iso', {
    encoding: 'utf-8'
  }).trim();
} catch (err) {
  console.error('Error fetching last git commit date:', err);
  lastCommitDate = new Date().toISOString();
}

const formattedDate = new Date(lastCommitDate).toLocaleString("en-GB", {
  year: "numeric",
  month: "long",
  day: "numeric",
  hour: "2-digit",
  minute: "2-digit",
  // second: "2-digit",
  hour12: false,
  timeZone: "Europe/London"
});
---

<div class="last-updated">
Last updated: {formattedDate} [GMT]
</div>

<style>
  .last-updated {
    font-size: 0.75rem;
    color: var(--secondary-text);
    margin: 0.5rem 0;
  }
</style>
